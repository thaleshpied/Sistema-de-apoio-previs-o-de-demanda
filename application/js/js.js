!function(t){var s={};function i(e){if(s[e])return s[e].exports;var h=s[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)i.d(e,h,function(s){return t[s]}.bind(null,h));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=0)}([function(t,s,i){"use strict";i.r(s);class e{constructor(t,s,i){this.entities=t,this.draggedPoint=null,this.down=!1,this.coord=new Vector,this.offset=new Vector,this.offsetCoord=new Vector,this.canvas=s,this.ctx=i,this.canvas.addEventListener("mousedown",t=>{this.down=!0,this.draggedPoint&&(this.offset.setXY(t.offsetX-this.draggedPoint.pos.x,t.offsetY-this.draggedPoint.pos.y),this.offsetCoord=Vector.sub(this.coord,this.offset))}),this.canvas.addEventListener("mouseup",t=>{this.draggedPoint&&this.draggedPoint.resetVelocity(),this.down=!1,this.draggedPoint=null}),this.canvas.addEventListener("mousemove",t=>{this.coord.setXY(t.offsetX,t.offsetY),this.offsetCoord=Vector.sub(this.coord,this.offset)}),this.canvas.addEventListener("touchstart",t=>{let s=t.touches[0];this.down=!0,this.draggedPoint&&(this.offset.setXY(s.clientX-this.draggedPoint.pos.x,s.clientY-this.draggedPoint.pos.y),this.offsetCoord=Vector.sub(this.coord,this.offset))}),this.canvas.addEventListener("touchend",t=>{this.draggedPoint&&this.draggedPoint.resetVelocity(),this.down=!1,this.draggedPoint=null}),this.canvas.addEventListener("touchmove",t=>{let s=t.touches[0];this.coord.setXY(s.pageX,s.pageY),this.offsetCoord=Vector.sub(this.coord,this.offset)})}dragPoint(){this.down&&this.draggedPoint.pos.setXY(this.offsetCoord.x,this.offsetCoord.y)}drag(){this.down||(this.draggedPoint=this.getNearestPoint()),this.draggedPoint&&(this.renderDraggedPoint(this.draggedPoint),this.dragPoint())}renderDraggedPoint(t){this.ctx.beginPath(),this.ctx.strokeStyle="black",this.ctx.arc(t.pos.x,t.pos.y,1.5*t.radius,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath()}getNearestPoint(){let t=null;for(let s=0;s<this.entities.length;s++)for(let i=0;i<this.entities[s].points.length;i++){this.entities[s].points[i].pos.dist(this.coord)<20&&(t=this.entities[s].points[i])}return t}}var h=class{constructor(t,s,i){this.entities=[],this.iterations=t,this.currentFrame=0,this.canvas=s,this.WIDTH=s.width,this.HEIGHT=s.height,this.ctx=i,this.mouse=new e(this.entities,this.canvas,this.ctx)}setDPI(){this.canvas.style.width=this.canvas.style.width||this.canvas.width+"px",this.canvas.style.height=this.canvas.style.height||this.canvas.height+"px";var t=window.devicePixelRatio/1,s=parseFloat(this.canvas.style.width),i=parseFloat(this.canvas.style.height),e=t/(this.canvas.width/s),h=this.canvas.cloneNode(!1);h.getContext("2d").drawImage(this.canvas,0,0),this.canvas.width=Math.ceil(s*t),this.canvas.height=Math.ceil(i*t),this.ctx.setTransform(e,0,0,e,0,0),this.ctx.drawImage(h,0,0),this.ctx.setTransform(t,0,0,t,0,0)}joinEntities(...t){let s=new Entity(this.iterations,this),i=[],e=[];for(let s=0;s<t.length;s++){i.push(t[s].points),e.push(t[s].sticks);let h=this.entities.indexOf(t[s]);this.entities.splice(h,1)}return i=[].concat.apply([],i),e=[].concat.apply([],e),s.points=i,s.sticks=e,this.addEntity(s),s}addEntity(t){this.entities.push(t)}interact(){this.mouse.drag()}update(){for(let t=0;t<this.entities.length;t++)this.entities[t].update();this.currentFrame++}renderPointIndex(){for(let t=0;t<this.entities.length;t++)this.entities[t].renderPointIndex(this.ctx)}render(){for(let t=0;t<this.entities.length;t++)this.entities[t].render(this.ctx)}createBox(t,s,i,e){const h=new Entity(this.iterations,this);return h.addPoint(t,s,0,0),h.addPoint(t+i,s,0,0),h.addPoint(t+i,s+e,0,0),h.addPoint(t,s+e,0,0),h.addStick(0,1),h.addStick(1,2),h.addStick(2,3),h.addStick(3,0),h.addStick(3,1),this.addEntity(h),h}createHexagon(t,s,i,e=50,h=1,n=5){const o=new Entity(this.iterations,this);let r=2*Math.PI/i;for(let h=0;h<i;++h){let i=h*r;o.addPoint(t+Math.cos(i)*e,s+Math.sin(i)*e,0,0)}let a=o.addPoint(t,s,0,0);for(let t=0;t<i;++t)o.addStick(t,(t+h)%i),o.addStick(new Stick(o.points[t],a)),o.addStick(t,(t+n)%i);return this.addEntity(o),o}createCloth(t,s,i,e,h,n){let o,r,a=new Entity(this.iterations,this),d=i/h,c=e/h;for(r=0;r<h;++r)for(o=0;o<h;++o){let n=t+o*d-i/2+d/2,l=s+r*c-e/2+c/2;a.addPoint(n,l),o>0&&a.addStick(r*h+o,r*h+o-1),r>0&&a.addStick(r*h+o,(r-1)*h+o)}for(a.tear=function(t){for(let s=0;s<a.sticks.length;s++)a.sticks[s].startPoint.pos.dist(a.sticks[s].endPoint.pos)>(t||20)&&a.removeSticks(a.sticks[s].startPoint)},o=0;o<h;++o)o%n==0&&a.pin(o);return!this.dontPush&&this.addEntity(a),a}createRope(t,s,i=10,e=15,h){let n=new Entity(this.iterations,this);for(let h=0;h<i;h++)n.addPoint(t+h*e,s,0,0);for(let t=0;t<i-1;t++)n.addStick(t,(t+1)%i);return void 0!==h&&n.pin(h),this.addEntity(n),n}createRagdoll(t,s){let i=new Entity(this.iterations,this);return i.addPoint(t,s).setRadius(15).setMass(5),i.addPoint(t,s+100),i.addPoint(t+30,s+90),i.addPoint(t-30,s+90),i.addPoint(t+20,s+150),i.addPoint(t-20,s+150),i.addPoint(t+30,s+190).setRadius(10).setMass(20),i.addPoint(t-30,s+190).setRadius(10).setMass(20),i.addPoint(t,s+25),i.addPoint(t+25,s+30),i.addPoint(t-25,s+30),i.addPoint(t+15,s+105).setRadius(10).setMass(5),i.addPoint(t-15,s+105).setRadius(10).setMass(5),i.addStick(0,9),i.addStick(0,10),i.addStick(9,10),i.addStick(9,2),i.addStick(10,3),i.addStick(9,3),i.addStick(10,2),i.addStick(2,6),i.addStick(3,7),i.addStick(2,7),i.addStick(3,6),i.addStick(0,1),i.addStick(2,3),i.addStick(9,2),i.addStick(10,3),i.addStick(0,4),i.addStick(0,5),i.addStick(0,6),i.addStick(0,7),i.addStick(1,2),i.addStick(1,3),i.addStick(2,4),i.addStick(3,5),i.addStick(4,6),i.addStick(5,7),i.addStick(0,8),i.addStick(8,1),i.addStick(8,9),i.addStick(9,11),i.addStick(8,10),i.addStick(10,12),this.addEntity(i),i}};class n{constructor(t,s){this.x=t||0,this.y=s||0}static dist(t,s){return t.dist(s)}static distSq(t,s){return t.distSq(s)}static sub(t,s){return new n(t.x-s.x,t.y-s.y)}static add(t,s){return new n(t.x+s.x,t.y+s.y)}static fromAngle(t){let s=new n(0,0);return s.x=Math.cos(t),s.y=Math.sin(t),s}static random2D(){return n.fromAngle(Math.random()*Math.PI*180)}jitter(t,s){var i=new n(t,s);return this.x+=normalizedRandom()*i.x,this.y+=normalizedRandom()*i.y,this}add(t,s){return 1===arguments.length?(this.x+=t.x,this.y+=t.y):2===arguments.length&&(this.x+=t,this.y+=s),this}sub(t,s){return 1===arguments.length?(this.x-=t.x,this.y-=t.y):2===arguments.length&&(this.x-=t,this.y-=s),this}mult(t){return"number"==typeof t?(this.x*=t,this.y*=t):(this.x*=t.x,this.y*=t.y),this}div(t){return"number"==typeof t?(this.x/=t,this.y/=t):(this.x/=t.x,this.y/=t.y),this}setAngle(t){var s=this.mag();this.x=Math.cos(t)*s,this.y=Math.sin(t)*s}angle(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)}angle2(t,s){return n.sub(t,this).angle(n.sub(s,this))}rotateBy(t,s){var i=this.x-t.x,e=this.y-t.y;return new n(i*Math.cos(s)-e*Math.sin(s)+t.x,i*Math.sin(s)+e*Math.cos(s)+t.y)}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}setXY(t,s){return this.x=t,this.y=s,this}setMag(t){return this.normalize(),this.mult(t),this}normalize(){let t=this.mag();return t>0&&this.div(t),this}normalizeTo(t){var s=this.mag();return s>0&&(s=t/s,this.mult(s)),this}limit(t){return this.mag()>t&&(this.normalize(),this.mult(t)),this}heading(){return-Math.atan2(-this.y,this.x)}dist(t){let s=this.x-t.x,i=this.y-t.y;return Math.sqrt(s*s+i*i)}distSq(t){let s=this.x-t.x,i=this.y-t.y;return s*s+i*i}copy(){return new n(this.x,this.y)}negative(){return this.x=-this.x,this.y=-this.y,this}array(){return[this.x,this.y]}toString(){return"["+this.x+", "+this.y+", "+this.z+"]"}project(t){var s=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=s*t.x,this.y=s*t.y,this}rotate(t){var s=this.heading()+t,i=this.mag();this.x=Math.cos(s)*i,this.y=Math.sin(s)*i}}var o=n;var r=class{constructor(t,s,i,e,h){this.pos=new Vector(t,s),this.oldpos=new Vector(t+(i||0),s+(e||0)),this.bounce=.99,this.friction=.97,this.groundFriction=.7,this.gravity=new Vector(0,1),this.pinned=!1,this.radius=h||5,this.color="#e62a4f",this.mass=1,this.sticks=[],this.forceAcc=1}setGravity(t){return this.gravity=t,this}setFriction(t){return this.friction=t,this}setGroundFriction(t){return this.groundFriction=t,this}setBounce(t){return this.bounce=t,this}setForceAcc(t){return this.forceAcc=t,this}setMass(t){return this.mass=t,this}setRadius(t){return this.radius=t,this}setColor(t){return this.color=t,this}setVelocity(t){return this.oldpos.setXY(t.x,t.y),this}pin(){return this.pinned=!0,this}unpin(){return this.pinned=!1,this}resetVelocity(){this.oldpos.setXY(this.pos.x,this.pos.y)}rotate(t,s){let i=s.x+(this.pos.x-s.x)*Math.cos(t)-(this.pos.y-s.y)*Math.sin(t),e=s.y+(this.pos.x-s.x)*Math.sin(t)+(this.pos.y-s.y)*Math.cos(t);this.pos.setXY(i,e)}resolveBehaviors(t,s=this.radius,i=this.forceAcc){var e=Vector.sub(this.pos,t.pos),h=e.magSq();let n=s*s;if(h<n){var o=e.normalizeTo(1-h/n).mult(i);this.applyForce(o)}}applyForce(t){this.pos.add(t)}addMotor(t,s,i,e,h){this.pos.x=t+e*Math.cos(i*h),this.pos.y=s+e*Math.sin(i*h)}constrain(t){this.pos.x>t.WIDTH-this.radius&&(this.pos.x=t.WIDTH-this.radius),this.pos.x<this.radius&&(this.pos.x=this.radius),this.pos.y>t.HEIGHT-this.radius&&(this.pos.y=t.HEIGHT-this.radius),this.pos.y<this.radius&&(this.pos.y=this.radius)}update(t){if(this.pinned)return;let s=Vector.sub(this.pos,this.oldpos);if(s.mult(this.friction),this.pos.y>=t.HEIGHT-this.radius&&s.magSq()>1e-6){var i=s.mag();s.x/=i,s.y/=i,s.mult(i*this.groundFriction)}this.oldpos.setXY(this.pos.x,this.pos.y),this.pos.add(s),this.pos.add(this.gravity)}render(t){t.beginPath(),t.fillStyle=this.color,t.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),t.fill(),t.closePath()}};var a=class{constructor(t,s,i,e,h){this.startPoint=t,this.endPoint=s,this.stiffness=e||2,this.color="#f5476a",this.hidden=h,this.length=i||this.startPoint.pos.dist(this.endPoint.pos),this.startPoint.sticks.push(this),this.endPoint.sticks.push(this)}update(t){let s=this.endPoint.pos.x-this.startPoint.pos.x,i=this.endPoint.pos.y-this.startPoint.pos.y,e=Math.sqrt(s*s+i*i),h=(this.length-e)/e*this.stiffness,n=s*h*.5,o=i*h*.5,r=this.startPoint.mass+this.endPoint.mass,a=this.startPoint.mass/r;r=this.endPoint.mass/r,this.startPoint.pinned||(this.startPoint.pos.x-=n*r,this.startPoint.pos.y-=o*r),this.endPoint.pinned||(this.endPoint.pos.x+=n*a,this.endPoint.pos.y+=o*a)}setColor(t){return this.color=t,this}setLength(t){return this.length=t,this}setStiffness(t){return this.stiffness=t,this}setHidden(t){return this.hidden=t,this}render(t){this.hidden||(t.beginPath(),t.strokeStyle=this.color,t.moveTo(this.startPoint.pos.x,this.startPoint.pos.y),t.lineTo(this.endPoint.pos.x,this.endPoint.pos.y),t.stroke(),t.closePath())}};var d=class{constructor(t,s,i,e){this.a=t,this.b=s,this.c=i,this.angle=this.b.pos.angle2(this.a.pos,this.c.pos),this.stiffness=e}update(){var t=this.b.pos.angle2(this.a.pos,this.c.pos)-this.angle;t<=-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t*=.1*this.stiffness,this.a.pos=this.a.pos.rotateBy(this.b.pos,t),this.c.pos=this.c.pos.rotateBy(this.b.pos,-t),this.b.pos=this.b.pos.rotateBy(this.a.pos,t),this.b.pos=this.b.pos.rotateBy(this.c.pos,-t)}render(t){t.beginPath(),t.moveTo(this.a.pos.x,this.a.pos.y),t.lineTo(this.b.pos.x,this.b.pos.y),t.lineTo(this.c.pos.x,this.c.pos.y);var s=t.lineWidth;t.lineWidth=5,t.strokeStyle="rgba(0, 0, 255, 0.5)",t.stroke(),t.lineWidth=s}};var c=class{constructor(t,s){this.points=[],this.sticks=[],this.verlyInstance=s,this.iterations=t||16}setGravity(t){for(let s=0;s<this.points.length;s++)this.points[s].setGravity(t)}setFriction(t){for(let s=0;s<this.points.length;s++)this.points[s].setFriction(t)}pin(t){this.points[t].pin()}removeSticks(t){this.sticks.splice(this.sticks.indexOf(t.sticks[0]),1),t.sticks.splice(0,1)}setVelocity(t,s){this.points.map(i=>{i.oldpos.x+=t,i.oldpos.y+=s})}addPoint(t,s,i,e,h){let n;return n=t instanceof Point?t:new Point(t,s,i,e,h),this.points.push(n),n}addStick(t,s,i,e,h){let n;return n=t instanceof Stick?t:new Stick(this.points[t],this.points[s],i,e,h),this.sticks.push(n),n}addAngleStick(t,s,i,e){let h;return h=t instanceof AngleStick?t:new AngleStick(this.points[t],this.points[s],this.points[i],e),this.sticks.push(h),h}updatePoints(){for(let t=0;t<this.points.length;t++)this.points[t].update(this.verlyInstance)}updateSticks(t){for(let s=0;s<this.sticks.length;s++)this.sticks[s].update(t)}updateConstraints(){for(let t=0;t<this.points.length;t++)this.points[t].constrain(this.verlyInstance)}update(){this.updatePoints();for(let t=0;t<this.iterations;++t)this.updateSticks(),this.updateConstraints()}renderPoints(){for(let t=0;t<this.points.length;t++)this.points[t].render(this.verlyInstance.ctx)}renderSticks(){for(let t=0;t<this.sticks.length;t++)this.sticks[t].render(this.verlyInstance.ctx)}renderPointIndex(){for(let t=0;t<this.points.length;t++)this.verlyInstance.ctx.beginPath(),this.verlyInstance.ctx.fillStyle="black",this.verlyInstance.ctx.fillText(t,this.points[t].pos.x+5,this.points[t].pos.y-6),this.verlyInstance.ctx.closePath()}render(){this.renderPoints(),this.renderSticks()}};var l=class{constructor(t,s,i,e,h){this.x=t,this.y=s,this.size=i,this.stickDistance=this.size,this.iterations=50,this.A=[[0,0,1,0,0],[0,1,1,1,0],[0,1,0,1,0],[1,1,1,1,1],[1,0,0,0,1]],this.B=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0],[1,1,1,0,0]],this.C=[[1,1,1,1,0],[1,1,1,1,0],[1,1,0,0,0],[1,1,1,1,0],[1,1,1,1,0]],this.D=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0]],this.E=[[0,1,1,1,0],[0,1,1,0,0],[0,1,1,1,0],[0,1,1,0,0],[0,1,1,1,0]],this.S=[[0,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0],[0,1,1,1,0],[1,1,1,0,0]],this.I=[[0,0,1,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0]],this.K=[[1,0,1,1,0],[1,1,1,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,0,1,1,0]],this.U=[[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.N=[[0,0,0,0,0,0],[1,1,0,0,1,1],[1,1,1,0,1,1],[1,1,1,1,1,1],[1,1,0,1,1,1],[1,1,0,0,1,1]],this.R=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0]],this.G=[[0,1,1,1,0],[1,1,1,0,0],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.L=[[1,1,0,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,1,1,1,1],[1,1,1,1,1]],this.Y=[[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0]],this.V=[[1,0,0,0,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.X=[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]],this.P=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,0,0]],this.H=[[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[1,1,0,1,1],[1,1,0,1,1]],this.O=[[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],this.letters={A:this.A,B:this.B,C:this.C,D:this.D,E:this.E,K:this.K,I:this.I,S:this.S,U:this.U,N:this.N,R:this.R,G:this.G,L:this.L,Y:this.Y,V:this.V,X:this.X,P:this.P,H:this.H,O:this.O};let n=this.letters[e];this.text=new Entity(this.iterations,h);for(let t=0;t<n.length;t++)for(let s=0;s<n[t].length;s++)if(1==n[s][t]){let i=new Point(this.x+t*this.size,this.y+s*this.size);i.setRadius(2),this.text.addPoint(i)}for(let t=0;t<this.text.points.length;t++)for(let s=0;s<this.text.points.length&&this.text.points[t]!=this.text.points[s];s++){let i=this.text.points[t].pos.dist(this.text.points[s].pos);i>0&&i<this.size+this.stickDistance&&this.text.addStick(t,s)}}};window.Verly=h,window.Vector=o,window.Point=r,window.Stick=a,window.AngleStick=d,window.Entity=c,window.TypoGraphy=l,window.random=function(t,s,i){return 1===arguments.length?Math.random()*arguments[0]:(2==arguments.length&&(i=s,s=t,t=Math.random),s||i?i?t()*(i-s)+s:(i=s,t()*i):Math.random())},window.radians=function(t){return t*Math.PI/180},window.degrees=function(t){return 180*t/Math.PI},window.clamp=function(t,s,i){return Math.max(s,Math.min(t,i))},window.normalizedRandom=function(){return 2*Math.random()-1},window.lerp=function(t,s,i){return(s-t)*i+t};s.default=h}]);
//# sourceMappingURL=verly.bundle.js.map